JavaScript 使用 Unicode 编码 （Unicode encoding）对字符串进行编码。大多数字符使用 2 个字节编码，但这种方式只能编码最多 65536 个字符。

这个范围不足以对所有可能的字符进行编码，这就是为什么一些罕见的字符使用 4 个字节进行编码，比如 𝒳 （数学符号 X）或者 😄 （笑脸），一些象形文字等等。

很久以前，当 JavaScript 被发明出来的时候，Unicode 的编码要更加简单：当时并没有 4 个字节长的字符。所以，一部分语言特性在现在仍旧无法对 unicode 进行正确的处理。
```
alert('😄'.length); // 2
alert('𝒳'.length); // 2

'𝒳'.match(/^[\w\W]{1}$/) //null
'𝒳'.match(/^[\w\W]{2}$/) // ["𝒳", index: 0, input: "𝒳", groups: undefined]
```

### utf-8 与 utf-16
编码本质指的是如何把字符（串）转换成对应的二进制数据，和返过来解析。

unicode最常见的编码标准就是utf-8和utf-16，其中utf-8在web使用的最为广泛，先来关注一下它。

#### utf-8

字符A的码点是0x41,对应utf-8的编码也是0x41，占一个字节，

字符B的码点是0x42,对应utf-8的编码也是0x42，占一个字节，

字符C的码点是0x43,对应utf-8的编码也是0x43，占一个字节。

是不是非常眼熟？这不就是ascii编码吗？所以utf-8一个比较重要的特性就是utf-8编码兼容ascii，并且对英文友好。用utf-8只编码ascii范围的字符，产生的二进制数据，对于一些只懂ascii编码的机器来说，这段数据是完全可读的，就是这个道理。

对英文友好指的是除了兼容性外，这个设计，使得对大量使用英文的utf-8编码的文档来说，每个英文字符和标点，都只占1个字节，文档的体积自然就大大减小。相反，大量的汉字在utf-8下都需要三个字节。而如果使用utf-16编码的话，汉字和英文字符都是2个字节，就众生平等了
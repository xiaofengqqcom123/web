随着前端业务场景越来越复杂，为了可以解决工程膨胀、开发维护困难等问题。我们面临的问题有：
- 如何进行物理层面的复用（不同端的代码在不同地址的Git仓库）。
- 如何进行逻辑层面的复用（不同端的相同逻辑如何使用一份代码进行抽象）。


并总结了以下几种方案以及它们各自主要的特点

|方案	| 技术栈是否能统一|	单独打包 |	单独部署 |	打包部署速度 |	单页应用体验 |	子工程切换速度 |	工程间通信难度 |	现有工程侵入性 
| ---| ------------	| ---	|	 ---	 |	 ---	 |	 ---	 |	 ---	 |	 ---	 |	 ---	
|NPM式	| 是（不强制）|	否 |	否 |	慢 |	是 |	快 |	正常 |	高 |	高
|iframe式 |	是（不强制） |	是	是 |	正常 |	否 |	慢 |	高 |	高 |	低
|特定中心路由基座式  |	是（强制） |	是 |	是 |	快 |	是 |	快 |	正常 |	低

### npm 包
个人理解，适用于可复用的组件。比如说：目前有多个项目，为了实现统一筛选项，可将筛选项统一封装成一个 npm 包 filter。但是使用 npm 需要考虑的问题：
- 依赖包的安装。比如说：filter 中依赖 antd 4.xxx、react 18.xx。但业务里依赖的 antd：3.xx, react: 16.xx。 可能存在的问题：业务里需要安装两个版本的 antd、react，可能会带来意想不到的问题，并且导致打包时间边长、体积变大


### Iframe 
https://www.yuque.com/kuitos/gky7yw/gesexv
如果不考虑体验问题，iframe 几乎是最完美的微前端解决方案了。

iframe 最大的特性就是提供了浏览器原生的硬隔离方案，不论是样式隔离、js 隔离这类问题统统都能被完美解决。但他的最大问题也在于他的隔离性无法被突破，导致应用间上下文无法被共享，随之带来的开发体验、产品体验的问题。

在开发中遇到的 Ifarme 的问题，如下：
1. url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。
2. UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1/4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中..
3. 全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免登效果。
4. 慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。

加载慢？
- 若对 iframe 不进行分包处理，则会导致需要加载许多无用 code；
- 会多加载一些公用的代码；
- document初始化

### 微前端
https://zhuanlan.zhihu.com/p/95085796
我认为微前端的核心价值在于 "技术栈无关"，这才是它诞生的理由。

既然「技术栈无关」是微前端的核心价值，那么整个架构方案的实现上，都应该秉持这一原则，任何违背这一原则的做法都应该被摒弃。

「技术栈无关」是架构上的准绳，具体到实现时，对应的就是：应用之间不应该有任何直接或间接的技术栈、依赖、以及实现上的耦合。



